import{p as N,c as p,d as f,r as j,o as r,b as i,e as u,t as c,F as h,q as y,n as D,s as d,g as S,h as I,u as M,k as g,j as k,i as R,w as B,l as C,m as V}from"./timer-f0fd1a4e.js";import{_ as w}from"./BaseOverlay.vue_vue_type_script_setup_true_lang-4448a2d3.js";import{u as O}from"./setupInformation-627cee18.js";function F(){const t=N("spotifyPlayingTrack","nodecg-spotify-widget"),e=p(()=>{var n;return((n=t==null?void 0:t.data)==null?void 0:n.name)||""}),a=p(()=>{var n;return((n=t==null?void 0:t.data)==null?void 0:n.artists.join(", "))||""});return{spotifyPlayingTrack:t,trackName:e,artists:a}}const H={class:"setup_box_1"},q={class:"title"},z={class:"runner"},E=f({__name:"UpnextSchedule",props:{runData:{type:Object,default:void 0}},setup(t){const e=t,{setupInformationArray:a}=O(),n=p(()=>e.runData?e.runData.teams.flatMap(o=>o.players.flatMap(s=>s.name)).join(", "):""),_=j(0);return setInterval(()=>{var s;const o=((s=a==null?void 0:a.data)==null?void 0:s.length)||0;_.value=(_.value+1)%o},3e6),(o,s)=>{var l,m,v;return r(),i("div",H,[u("span",q,c((l=t.runData)==null?void 0:l.game),1),u("span",z,c((m=t.runData)==null?void 0:m.category)+" / Runner : "+c(n.value),1),(r(!0),i(h,null,y((v=d(a))==null?void 0:v.data,(x,b)=>(r(),i("span",{class:D(["detail",[b===_.value?"active":""]]),key:x.id},c(x.text),3))),128))])}}}),L={class:"next_time_box"},T={class:"next_time"},U={class:"title"},A={class:"runner"},G=f({__name:"OndeckSchedule",props:{runData:{type:Object,default:void 0},upcomingStartInSeconds:{type:Number,default:0}},setup(t){const e=t,a=p(()=>e.runData?e.runData.teams.flatMap(o=>o.players.flatMap(s=>s.name)).join(", "):""),n=p(()=>Math.floor(e.upcomingStartInSeconds/3600)),_=p(()=>(Math.floor(e.upcomingStartInSeconds/60)%60).toString().padStart(2,"0"));return(o,s)=>{var l,m;return r(),i("div",null,[u("div",L,[u("p",T,[n.value>0?(r(),i(h,{key:0},[u("span",null,c(n.value),1),S("時間 ")],64)):I("",!0),u("span",null,c(_.value),1),S("分後 ")])]),u("span",U,c((l=t.runData)==null?void 0:l.game),1),u("span",A,c((m=t.runData)==null?void 0:m.category)+" / Runner : "+c(a.value),1)])}}}),J=f({__name:"SetupSchedule",setup(t){const{upnextRun:e,ondeckRuns:a,upcomingStartIn:n}=M();return(_,o)=>(r(),i(h,null,[g(E,{"run-data":d(e)},null,8,["run-data"]),(r(!0),i(h,null,y(d(a),(s,l)=>(r(),k(G,{key:s.id,class:D(`setup_box_${l+2}`),"run-data":s,"upcoming-start-in-seconds":d(n)[l]},null,8,["class","run-data","upcoming-start-in-seconds"]))),128))],64))}}),K={class:"music"},Q=u("span",{class:"icon"},null,-1),W=f({__name:"SpotifyTrack",setup(t){const{trackName:e,artists:a}=F();return(n,_)=>(r(),i("div",K,[Q,S(" "+c(d(e))+" - "+c(d(a)),1)]))}}),X=f({__name:"main",setup(t){return R({title:"Setup"}),(e,a)=>(r(),k(w,null,{default:B(()=>[g(J),g(W)]),_:1}))}});const $=C(X),Y=V();$.use(Y);$.mount("#app");
