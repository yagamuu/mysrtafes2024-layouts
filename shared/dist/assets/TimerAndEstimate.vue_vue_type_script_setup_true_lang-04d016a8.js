import{u as _,c as u,q as p,d as f,i as v,o as h,a as C,b as i,t as d,f as m,F as x,s as T,n as I,g as $}from"./timer-64a4f53b.js";function B(){const a=_("timekeeping","nodecg-timekeeper"),e=_("history","nodecg-timekeeper"),r=u(()=>!(a!=null&&a.data)||a.data.time.rawInSecond<=0?"00:00":p(a.data.time.rawInSecond)),o=u(()=>{var s;return((s=a==null?void 0:a.data)==null?void 0:s.status)||"finished"}),n=u(()=>!!(e!=null&&e.data&&e.data.length>0)),t=u(()=>{var s,c,l;return!((s=e==null?void 0:e.data)!=null&&s[0])||((c=e==null?void 0:e.data)==null?void 0:c[0].time.rawInSecond)<=0?"00:00":p((l=e==null?void 0:e.data)==null?void 0:l[0].time.rawInSecond)});return{timekeeping:a,time:r,status:o,history:e,hasHistory:n,latestHistorytime:t}}const H=([a,e,r,o])=>{const n=[[a,r],[a,o],[e,r],[e,o]];return n.sort((t,s)=>t[0]===s[0]?t[1]-s[1]:t[0]-s[0]),[n[0],n[1],n[3],n[2],n[0]]},P=a=>{var o,n;const e=a.map(t=>H(t));e.sort((t,s)=>{var c,l;return!((c=t[0])!=null&&c[0])||!((l=s[0])!=null&&l[0])?0:t[0][0]-s[0][0]});const r=[[0,0]];for(const t of e){if(!((o=t[0])!=null&&o[0])&&((n=t[0])==null?void 0:n[0])!==0)throw new Error("first element of boxCorners is empty");const s=[t[0][0],0];r.push(s,...t,s)}return r.push([1920,0],[1920,1080],[0,1080],[0,0]),`${r.map(t=>t.map(s=>`${s}px`).join(" ")).join(",")}`},k={class:"title"},y=i("span",{class:"dashed_line"},null,-1),E={class:"game_detail"},R={class:"category"},b={class:"game_console"},V=f({__name:"InfoBox",setup(a){const{runTitle:e,runCategory:r,runSystem:o,runRelease:n}=v();return(t,s)=>(h(),C(x,null,[i("div",k,d(m(e)),1),y,i("div",E,[i("div",R,d(m(r)),1),i("div",b,d(m(o))+" - "+d(m(n)),1)])],64))}}),j={class:"time"},D={class:"will"},q=f({__name:"TimerAndEstimate",setup(a){const{estimate:e,isChallenge:r}=v(),{time:o,runState:n}=T(),{time:t,status:s,hasHistory:c,latestHistorytime:l}=B(),g=u(()=>(r.value?s:n).value==="finished"&&(!r.value||c.value)?"stop_yellow":""),w=u(()=>r.value?c.value?l.value:t.value:o.value);return(S,F)=>(h(),C("div",j,[i("div",{class:I([g.value,"now"])},d(w.value),3),i("div",D,[$("予定タイム"),i("span",null,d(m(e)),1)])]))}});export{q as _,V as a,P as c};
